{"version":3,"sources":["webpack:///./src/views/Home.vue?e460","webpack:///./src/views/Home.vue?0e8e","webpack:///./src/utils/loading.js","webpack:///./src/utils/request.js","webpack:///./src/api/index.js","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?2b8c","webpack:///./src/views/Home.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","getUserData","_v","staticStyle","attrs","model","value","callback","$$v","userInfo","expression","staticRenderFns","loadingCounter","showLoading","store","commit","closeLoading","service","axios","create","baseURL","window","location","origin","timeout","interceptors","request","use","config","localStorage","getItem","headers","Authorization","error","Promise","reject","response","res","data","code","msg","Message","content","resetTokenAndClearUser","router","push","name","message","fetchUserData","get","component"],"mappings":"kHAAA,yBAAme,EAAG,G,kECAte,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,SAAS,CAACG,GAAG,CAAC,MAAQP,EAAIQ,cAAc,CAACR,EAAIS,GAAG,aAAaL,EAAG,QAAQ,CAACM,YAAY,CAAC,aAAa,QAAQC,MAAM,CAAC,KAAO,GAAG,KAAO,YAAYC,MAAM,CAACC,MAAOb,EAAY,SAAEc,SAAS,SAAUC,GAAMf,EAAIgB,SAASD,GAAKE,WAAW,eAAe,MAC/ZC,EAAkB,G,+ECClBC,EAAiB,EAEd,SAASC,IACW,IAAnBD,GACAE,OAAMC,OAAO,cAAc,GAG/BH,IAGG,SAASI,IACZJ,IACIA,GAAkB,IAClBA,EAAiB,EACjBE,OAAMC,OAAO,cAAc,I,gBCV7BE,EAAUC,IAAMC,OAAO,CACzBC,QAASC,OAAOC,SAASC,OACzBC,QAAS,MAGbP,EAAQQ,aAAaC,QAAQC,KAAI,SAAAC,GAM7B,OALAf,IACIgB,aAAaC,QAAQ,WACrBF,EAAOG,QAAQC,cAAgBH,aAAaC,QAAQ,UAGjDF,KACR,SAACK,GAAD,OAAWC,QAAQC,OAAOF,MAE7BhB,EAAQQ,aAAaW,SAAST,KAAI,SAAAS,GAC9BpB,IACA,IAAMqB,EAAMD,EAASE,KAGrB,OAAgB,GAAZD,EAAIE,MAAaF,EAAIG,KACrBC,aAAQR,MAAM,CACVS,QAASL,EAAIG,MAID,GAAZH,EAAIE,OACJI,iBACAC,OAAOC,KAAK,UAGTX,QAAQC,UAIZE,KACR,SAACJ,GAYA,OAXAjB,IACkB,SAAdiB,EAAMa,KACNL,aAAQR,MAAM,CACVS,QAAST,EAAMO,MAGnBC,aAAQR,MAAM,CACVS,QAAST,EAAMG,SAASE,KAAKA,MAAQL,EAAMc,UAI5Cb,QAAQC,OAAOF,MAGXhB,QCtDR,SAAS+B,IACZ,OAAOtB,EAAQuB,IAAI,uCCUvB,OACE,KAAF,OACE,KAFF,WAGI,MAAJ,CACM,SAAN,KAGE,QAAF,CACI,YADJ,WACM,IAAN,OACM,IAAN,kBACQ,EAAR,wCCvB8U,I,wBCQ1UC,EAAY,eACd,EACA1D,EACAmB,GACA,EACA,KACA,WACA,MAIa,aAAAuC,E","file":"js/chunk-ad3fa260.df8d0dfa.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=06ec08c2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=06ec08c2&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home-container\"},[_c('div',{staticClass:\"home-content\"},[_c('Button',{on:{\"click\":_vm.getUserData}},[_vm._v(\"ajax 测试\")]),_c('Input',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"rows\":30,\"type\":\"textarea\"},model:{value:(_vm.userInfo),callback:function ($$v) {_vm.userInfo=$$v},expression:\"userInfo\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import store from '@/store'\r\n\r\nlet loadingCounter = 0\r\n\r\nexport function showLoading() {\r\n    if (loadingCounter === 0) {\r\n        store.commit('setLoading', true)\r\n    }\r\n\r\n    loadingCounter++\r\n}\r\n\r\nexport function closeLoading() {\r\n    loadingCounter--\r\n    if (loadingCounter <= 0) {\r\n        loadingCounter = 0\r\n        store.commit('setLoading', false)\r\n    }\r\n}","import axios from 'axios'\r\nimport { Message } from 'view-design'\r\nimport router from '@/router'\r\nimport { showLoading, closeLoading } from '@/utils/loading'\r\nimport { resetTokenAndClearUser } from '@/utils'\r\n\r\nconst service = axios.create({\r\n    baseURL: window.location.origin,\r\n    timeout: 60000,\r\n})\r\n\r\nservice.interceptors.request.use(config => {\r\n    showLoading()\r\n    if (localStorage.getItem('token')) {\r\n        config.headers.Authorization = localStorage.getItem('token')\r\n    }\r\n\r\n    return config\r\n}, (error) => Promise.reject(error))\r\n\r\nservice.interceptors.response.use(response => {\r\n    closeLoading()\r\n    const res = response.data\r\n    // 这里是接口处理的一个示范，可以根据自己的项目需求更改\r\n    // 错误处理\r\n    if (res.code != 0 && res.msg) {\r\n        Message.error({\r\n            content: res.msg,\r\n        })\r\n\r\n        // token 无效，清空路由，退出登录\r\n        if (res.code == 2) {\r\n            resetTokenAndClearUser()\r\n            router.push('login')\r\n        }\r\n\r\n        return Promise.reject()\r\n    }\r\n\r\n    // 如果接口正常，直接返回数据\r\n    return res\r\n}, (error) => {\r\n    closeLoading()\r\n    if (error.name == 'Error') {\r\n        Message.error({\r\n            content: error.msg,\r\n        })\r\n    } else {\r\n        Message.error({\r\n            content: error.response.data.data || error.message,\r\n        })\r\n    }\r\n\r\n    return Promise.reject(error)\r\n})\r\n\r\nexport default service\r\n","import request from '@/utils/request'\r\n\r\nexport function fetchUserData() {\r\n    return request.get('https://api.github.com/users/woai3c')\r\n}","<template>\r\n    <div class=\"home-container\">\r\n        <div class=\"home-content\">\r\n            <Button @click=\"getUserData\">ajax 测试</Button>\r\n\r\n            <Input :rows=\"30\" style=\"margin-top: 20px\" v-model=\"userInfo\" type=\"textarea\" />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { fetchUserData } from '@/api'\r\n\r\nexport default {\r\n    name: 'home',\r\n    data() {\r\n        return {\r\n            userInfo: '',\r\n        }\r\n    },\r\n    methods: {\r\n        getUserData() {\r\n            fetchUserData().then(res => {\r\n                this.userInfo = JSON.stringify(res, null, 4)\r\n            })\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.home-container {\r\n    padding: 10px;\r\n    padding-top: 5px;\r\n}\r\n.home-content {\r\n    padding: 10px;\r\n    border-radius: 5px;\r\n    background: #fff;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=06ec08c2&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=06ec08c2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"06ec08c2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}